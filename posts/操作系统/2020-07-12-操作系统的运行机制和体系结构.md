---
title: '操作系统的运行机制和体系结构'
tags: ['操作系统']
---
# 操作系统的运行机制和体系结构

## 运行机制

指令：处理器能识别、执行的基本命令

## 特权指令和非特权指令

特权指令不允许用户程序使用，例如“内存清零”的指令，非特权指令是普通用户程序可以执行的指令，例如一般的计算指令。

### CPU的用户态（目态）和核心态（管态）

用户态和核心态用程序状态寄存器PSW中的某个标志位来标识当前处理器处于的状态，0为用户态，1为核心态

- 用户态：此时的CPU只能执行非特权指令
- 核心态：此时的CPU可以执行非特权指令和特权指令

### 内核程序和应用程序

- 内核程序：是操作系统的管理者，可以执行特权指令和非特权指令，运行在核心态
- 应用程序：运行在用户态，只能使用非特权指令

*****

## 操作系统内核

内核是计算机上配置的底层软件，是操作系统最基本、最核心的部分

实现操作系统内核功能的程序就是**内核程序**。

### 时钟管理

实现计时功能

### 中断处理

负责实现中断机制

### 原语

处于操作系统的最底层，是最接近硬件的部分，是一种特殊的程序，其运行**只能一气呵成，不能中断**。原语一般运行时间短，但是运行频繁。

### 对系统资源进行管理的功能

- 进程管理

- 存储器管理

- 设备管理

### 大内核和微内核

- 大内核：将操作系统的主要功能模块都作为操作系统的内核，运行在核心态
  - 优点：性能高
  - 缺点：内核代码庞大，结构比较混乱，难以维护
- 微内核：只把最基本的功能保留在内核
  - 优点：内核功能少，结构清晰，方便维护
  - 缺点：需要频繁在用户态和核心态之间切换，性能低
