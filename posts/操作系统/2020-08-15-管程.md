---
title: '管程'
tags: ['操作系统','管程']
---
# 管程

信号量的缺点：使用信号量机制来解决同步问题的时候，不得不考虑**PV操作的顺序**，造成编写程序困难，易出错。

## 管程的定义和基本特征

管程是一种特殊的软件模块，组成：

- 局部于管程的共享数据结构说明；
- 对该数据结构结构进行操作的一组过程；
- 对局部于管程的共享数据设置初始值的语句；
- 管程的名字。

管程的特征：

- 局部于管程的数据只能被管程内的过程访问；
- 一个进程只有通过管程内的过程才能进入管程访问共享数据；
- 每次**仅允许一个进程**在管程内执行某个内部过程。

**由编译器实现个进程互斥进入管程的过程**



## Java中的管程

java中可以使用synchronized描述一个方法，这个方法在同一时间段内只能被一个进程调用

```java
static class monitor{
    private Item buffer[] = new Item[N];
    private int count = 0;
    
    public synchronized void insert(Item item){
        ......
    }
}
```

