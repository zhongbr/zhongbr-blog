---
title: '文件共享和保护'
tags: ['操作系统','文件']
---
# 文件共享和保护

## 文件共享

操作系统为用户提供文件共享功能，可以让多个用户共享使用同一个文件。

### 基于索引节点的共享方式

> 索引结点：检索文件时需要文件名以外的其他信息放到索引结点中，索引结点中有一个链接计数器，表示链接到这个索引结点的目录项的个数。
>
> 目录项只包含文件名和指向索引节点的指针

在多个不同的目录表文件的目录项指向同一个索引结点。

其中一个用户删除文件的时候，索引结点的链接计数器减一，删除用户对应的目录项，如果链接计数器为0，才可以回收对应的磁盘空间。

### 基于符号链接的共享方式

Link类型的文件，记录了要链接的文件的存放路径，例如“快捷方式”。

使用软连接的时候，如果目标文件被删除了，访问软连接会失效。

******

## 文件保护

### 口令保护

用户为需要保护的文件设置一个口令，在打开文件时要求输入正确的口令后操作系统才会打开。

这个口令一般存放在文件的FCB中。

#### 优点

保存口令的空间开销小，验证口令时的时间开销小

#### 缺点

正确的口令明文存储在系统的内部，不够安全

### 加密保护

使用密钥对文件进行加密，访问文件时需要提供相同的密钥才能对文件进行正确的解密。

#### 优点

保密性强，不需要在系统中存储密码

#### 缺点

编码/译码需要花费一定的时间

### 访问控制

在每一个文件的FCB（或者索引结点）中增加一个访问控制列表(Access Control List, ACL)，记录各个用户可以对这个文件进行的操作。

如果计算机中有很多用户，可能会导致访问控制表的规模很大，可以对范文控制表进行精简，对用户进行分组管理。

- 系统管理员分组
- 文件的所有者
- 文件的所有者的同分组伙伴
- 其他用户



