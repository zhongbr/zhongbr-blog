---
title: 'IPv6'
tags: ['计算机网络']
---
# IPv6

QoS(Quality of Service，服务质量)：指一个网络能够利用各种基础技术，为指定的网络通信提供更好的服务能力，是网络的一种安全机制，是用来解决网络延迟和拥塞等问题的一种技术。

## IPv6数据格式

![IMG_0013.jpg](https://i.loli.net/2020/08/11/hivljocJ3CeZxuN.jpg)

![截屏 2020-08-11 上午9.08.46.png](https://i.loli.net/2020/08/11/cm9Y3Xt82sLRkwy.png)

- 版本：总是6，指明协议是IPv6.
- 优先级：区分数据报的类别和优先级
- 流标签：“流”是互联网上从特定源点到特定终点的一系列数据报，所有属于同一个流的数据报都具有相同的标签
- 有效载荷长度：有效载荷部分（扩展首部+数据部分）的长度
- 下一个首部：标识扩展首部或者上传协议的首部
- 跳数限制：相当于IPv4中的TTL
- 源地址 128bit
- 目的地址 128bit

## IPv4和IPv6的区别

相对于IPv4，IPv6有如下的特点：

1. 地址从IPv4的32位增加到**128位**，有更大的地址空间
2. 移除了IPv4中的**校验和字段**，减少每一跳的处理时间
3. 将IPv4的可选字段移出首部，变成**扩展首部**，成为灵活的首部格式，路由器通常不对扩展首部进行检查，提高了路由器的处理效率
4. 支持**即插即用**（即自动配置），不需要使用DHCP协议
5. 首部长度必须是**8B的整数倍**，IPv4首部必须是4B的整数倍
6. IPv6**只能在主机分片**，而IPv4可以在路由器或者主机分片
7. ICMPv6：附加报文类型：分组过大
8. IPv6支持资源预分配，支持实时视像等要求，保证一定的带宽和时延的应用
9. IPv6取消了协议字段，改成下一个首部字段
10. IPv6取消了总长度字段，改成有效载荷长度字段
11. 取消了服务类型字段

## IPv6地址表示形式

一般形式：冒号十六进制记法 4BF5:0000:0000:0000:BA5F:039A:000A:2176

压缩记法：4BF5:0:0:0:BA5F:39A:A:2176

零压缩：一连串的零使用一对冒号标识，仅可使用1次: 4BF5::BA5F:39A:A:2176 

## IPv6的基本类型

单播：一对一通信，可做源地址+目的地址

多播：一对多通信，可做目的地址，不能做源地址

任播：一对多中的一个通信，可做目的地址，不能做源地址

## IPv6向IPv4过渡技术

双协议栈技术：指在一台设备上同时启用IPv4协议栈和IPv4协议栈。这台设备既可以用IPv4通信也可以用IPv6通信。

隧道技术：使用互联网的基础设施在网络之间传递数据的方式，使用隧道传递的数据（或负载）可以是不同协议的数据帧或包。隧道协议将其它协议的数据或包重新封装，然后通过隧道发送。
