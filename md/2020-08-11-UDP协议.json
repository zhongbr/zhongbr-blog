{"ast":{"type":"Document","children":[{"type":"Yaml","value":"title: 'UDP协议'\ntags: ['计算机网路','传输层','UDP']","loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":3}},"range":[0,50],"raw":"---\ntitle: 'UDP协议'\ntags: ['计算机网路','传输层','UDP']\n---"},{"type":"Header","depth":1,"children":[{"type":"Str","value":"UDP协议（用户数据报协议）","loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":16}},"range":[53,67],"raw":"UDP协议（用户数据报协议）"}],"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}},"range":[51,67],"raw":"# UDP协议（用户数据报协议）"},{"type":"Paragraph","children":[{"type":"Str","value":"在IP数据报的基础上增加了复用、分用和差错检测功能。","loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"range":[69,95],"raw":"在IP数据报的基础上增加了复用、分用和差错检测功能。"}],"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"range":[69,95],"raw":"在IP数据报的基础上增加了复用、分用和差错检测功能。"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"特点","loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":5}},"range":[100,102],"raw":"特点"}],"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":5}},"range":[97,102],"raw":"## 特点"},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP是无连接的，减少开销和发送数据之前的时延","loc":{"start":{"line":11,"column":3},"end":{"line":11,"column":26}},"range":[107,130],"raw":"UDP是无连接的，减少开销和发送数据之前的时延"}],"loc":{"start":{"line":11,"column":3},"end":{"line":11,"column":26}},"range":[107,130],"raw":"UDP是无连接的，减少开销和发送数据之前的时延"}],"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}},"range":[104,130],"raw":"1. UDP是无连接的，减少开销和发送数据之前的时延"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP使用最大努力交付，不保证可靠传输","loc":{"start":{"line":12,"column":3},"end":{"line":12,"column":22}},"range":[134,153],"raw":"UDP使用最大努力交付，不保证可靠传输"}],"loc":{"start":{"line":12,"column":3},"end":{"line":12,"column":22}},"range":[134,153],"raw":"UDP使用最大努力交付，不保证可靠传输"}],"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}},"range":[131,153],"raw":"2. UDP使用最大努力交付，不保证可靠传输"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP面向报文的，适合一次传输少量的数据的网路应用","loc":{"start":{"line":13,"column":3},"end":{"line":13,"column":28}},"range":[157,182],"raw":"UDP面向报文的，适合一次传输少量的数据的网路应用"}],"loc":{"start":{"line":13,"column":3},"end":{"line":13,"column":28}},"range":[157,182],"raw":"UDP面向报文的，适合一次传输少量的数据的网路应用"}],"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"range":[154,182],"raw":"3. UDP面向报文的，适合一次传输少量的数据的网路应用"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP无拥塞控制，适合很多实时应用","loc":{"start":{"line":14,"column":3},"end":{"line":14,"column":20}},"range":[186,203],"raw":"UDP无拥塞控制，适合很多实时应用"}],"loc":{"start":{"line":14,"column":3},"end":{"line":14,"column":20}},"range":[186,203],"raw":"UDP无拥塞控制，适合很多实时应用"}],"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":20}},"range":[183,203],"raw":"4. UDP无拥塞控制，适合很多实时应用"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP首部较小，只有8字节，而TCP由20字节","loc":{"start":{"line":15,"column":3},"end":{"line":15,"column":26}},"range":[207,230],"raw":"UDP首部较小，只有8字节，而TCP由20字节"}],"loc":{"start":{"line":15,"column":3},"end":{"line":15,"column":26}},"range":[207,230],"raw":"UDP首部较小，只有8字节，而TCP由20字节"}],"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":26}},"range":[204,230],"raw":"5. UDP首部较小，只有8字节，而TCP由20字节"}],"loc":{"start":{"line":11,"column":0},"end":{"line":15,"column":26}},"range":[104,230],"raw":"1. UDP是无连接的，减少开销和发送数据之前的时延\n2. UDP使用最大努力交付，不保证可靠传输\n3. UDP面向报文的，适合一次传输少量的数据的网路应用\n4. UDP无拥塞控制，适合很多实时应用\n5. UDP首部较小，只有8字节，而TCP由20字节"},{"type":"HorizontalRule","loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":5}},"range":[232,237],"raw":"*****"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"首部格式","loc":{"start":{"line":19,"column":3},"end":{"line":19,"column":7}},"range":[242,246],"raw":"首部格式"}],"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":7}},"range":[239,246],"raw":"## 首部格式"},{"type":"Paragraph","children":[{"type":"Image","title":null,"url":"https://i.loli.net/2020/08/11/bK9dC8JDFWrNAhY.png","alt":"截屏 2020-08-11 下午3.46.50.png","loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":81}},"range":[248,329],"raw":"![截屏 2020-08-11 下午3.46.50.png](https://i.loli.net/2020/08/11/bK9dC8JDFWrNAhY.png)"}],"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":81}},"range":[248,329],"raw":"![截屏 2020-08-11 下午3.46.50.png](https://i.loli.net/2020/08/11/bK9dC8JDFWrNAhY.png)"},{"type":"List","ordered":false,"start":null,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP长度：UDP用户数据的整个长度","loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":20}},"range":[333,351],"raw":"UDP长度：UDP用户数据的整个长度"}],"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":20}},"range":[333,351],"raw":"UDP长度：UDP用户数据的整个长度"}],"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":20}},"range":[331,351],"raw":"- UDP长度：UDP用户数据的整个长度"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"UDP校验和：检测整个UDP数据报是否有错，有错就丢弃","loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":29}},"range":[354,381],"raw":"UDP校验和：检测整个UDP数据报是否有错，有错就丢弃"}],"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":29}},"range":[354,381],"raw":"UDP校验和：检测整个UDP数据报是否有错，有错就丢弃"}],"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}},"range":[352,381],"raw":"- UDP校验和：检测整个UDP数据报是否有错，有错就丢弃"}],"loc":{"start":{"line":23,"column":0},"end":{"line":24,"column":29}},"range":[331,381],"raw":"- UDP长度：UDP用户数据的整个长度\n- UDP校验和：检测整个UDP数据报是否有错，有错就丢弃"},{"type":"Paragraph","children":[{"type":"Str","value":"分用时，找不到对应的目的端口号，就丢弃报文，并给发送方发送ICMP“端口不可达”差错报文。","loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":45}},"range":[383,428],"raw":"分用时，找不到对应的目的端口号，就丢弃报文，并给发送方发送ICMP“端口不可达”差错报文。"}],"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":45}},"range":[383,428],"raw":"分用时，找不到对应的目的端口号，就丢弃报文，并给发送方发送ICMP“端口不可达”差错报文。"},{"type":"HorizontalRule","loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":5}},"range":[430,435],"raw":"*****"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"UDP校验","loc":{"start":{"line":30,"column":3},"end":{"line":30,"column":8}},"range":[440,445],"raw":"UDP校验"}],"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":8}},"range":[437,445],"raw":"## UDP校验"},{"type":"Paragraph","children":[{"type":"Image","title":null,"url":"https://i.loli.net/2020/08/11/Nj7qpYuHRXV9fyl.png","alt":"截屏 2020-08-11 下午3.51.18.png","loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":81}},"range":[447,528],"raw":"![截屏 2020-08-11 下午3.51.18.png](https://i.loli.net/2020/08/11/Nj7qpYuHRXV9fyl.png)"}],"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":81}},"range":[447,528],"raw":"![截屏 2020-08-11 下午3.51.18.png](https://i.loli.net/2020/08/11/Nj7qpYuHRXV9fyl.png)"},{"type":"List","ordered":false,"start":null,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。","loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":32}},"range":[532,562],"raw":"伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。"}],"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":32}},"range":[532,562],"raw":"伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。"}],"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}},"range":[530,562],"raw":"- 伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。"}],"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}},"range":[530,562],"raw":"- 伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。"},{"type":"Header","depth":3,"children":[{"type":"Str","value":"发送端","loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":7}},"range":[568,571],"raw":"发送端"}],"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":7}},"range":[564,571],"raw":"### 发送端"},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"添加伪首部","loc":{"start":{"line":38,"column":3},"end":{"line":38,"column":8}},"range":[576,581],"raw":"添加伪首部"}],"loc":{"start":{"line":38,"column":3},"end":{"line":38,"column":8}},"range":[576,581],"raw":"添加伪首部"}],"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":8}},"range":[573,581],"raw":"1. 添加伪首部"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"全0填充校验和字段","loc":{"start":{"line":39,"column":3},"end":{"line":39,"column":12}},"range":[585,594],"raw":"全0填充校验和字段"}],"loc":{"start":{"line":39,"column":3},"end":{"line":39,"column":12}},"range":[585,594],"raw":"全0填充校验和字段"}],"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":12}},"range":[582,594],"raw":"2. 全0填充校验和字段"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"全0将数据部分填充为4B的整数倍","loc":{"start":{"line":40,"column":3},"end":{"line":40,"column":19}},"range":[598,614],"raw":"全0将数据部分填充为4B的整数倍"}],"loc":{"start":{"line":40,"column":3},"end":{"line":40,"column":19}},"range":[598,614],"raw":"全0将数据部分填充为4B的整数倍"}],"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":19}},"range":[595,614],"raw":"3. 全0将数据部分填充为4B的整数倍"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"伪首部+首部+数据部分，然后二进制反码求和","loc":{"start":{"line":41,"column":3},"end":{"line":41,"column":24}},"range":[618,639],"raw":"伪首部+首部+数据部分，然后二进制反码求和"}],"loc":{"start":{"line":41,"column":3},"end":{"line":41,"column":24}},"range":[618,639],"raw":"伪首部+首部+数据部分，然后二进制反码求和"}],"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":24}},"range":[615,639],"raw":"4. 伪首部+首部+数据部分，然后二进制反码求和"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"求和得到的反码填入校验和字段","loc":{"start":{"line":42,"column":3},"end":{"line":42,"column":17}},"range":[643,657],"raw":"求和得到的反码填入校验和字段"}],"loc":{"start":{"line":42,"column":3},"end":{"line":42,"column":17}},"range":[643,657],"raw":"求和得到的反码填入校验和字段"}],"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":17}},"range":[640,657],"raw":"5. 求和得到的反码填入校验和字段"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"去掉伪首部，发送","loc":{"start":{"line":43,"column":3},"end":{"line":43,"column":11}},"range":[661,669],"raw":"去掉伪首部，发送"}],"loc":{"start":{"line":43,"column":3},"end":{"line":43,"column":11}},"range":[661,669],"raw":"去掉伪首部，发送"}],"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":11}},"range":[658,669],"raw":"6. 去掉伪首部，发送"}],"loc":{"start":{"line":38,"column":0},"end":{"line":43,"column":11}},"range":[573,669],"raw":"1. 添加伪首部\n2. 全0填充校验和字段\n3. 全0将数据部分填充为4B的整数倍\n4. 伪首部+首部+数据部分，然后二进制反码求和\n5. 求和得到的反码填入校验和字段\n6. 去掉伪首部，发送"},{"type":"Header","depth":3,"children":[{"type":"Str","value":"接收端","loc":{"start":{"line":45,"column":4},"end":{"line":45,"column":7}},"range":[675,678],"raw":"接收端"}],"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":7}},"range":[671,678],"raw":"### 接收端"},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"填上伪首部","loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":8}},"range":[683,688],"raw":"填上伪首部"}],"loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":8}},"range":[683,688],"raw":"填上伪首部"}],"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":8}},"range":[680,688],"raw":"1. 填上伪首部"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"伪首部 + 首部 + 数据 二进制反码求和","loc":{"start":{"line":48,"column":3},"end":{"line":48,"column":24}},"range":[692,713],"raw":"伪首部 + 首部 + 数据 二进制反码求和"}],"loc":{"start":{"line":48,"column":3},"end":{"line":48,"column":24}},"range":[692,713],"raw":"伪首部 + 首部 + 数据 二进制反码求和"}],"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":24}},"range":[689,713],"raw":"2. 伪首部 + 首部 + 数据 二进制反码求和"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。","loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":53}},"range":[717,767],"raw":"如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。"}],"loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":53}},"range":[717,767],"raw":"如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。"}],"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":53}},"range":[714,767],"raw":"3. 如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。"}],"loc":{"start":{"line":47,"column":0},"end":{"line":49,"column":53}},"range":[680,767],"raw":"1. 填上伪首部\n2. 伪首部 + 首部 + 数据 二进制反码求和\n3. 如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。"}],"loc":{"start":{"line":1,"column":0},"end":{"line":50,"column":0}},"range":[0,768],"raw":"---\ntitle: 'UDP协议'\ntags: ['计算机网路','传输层','UDP']\n---\n# UDP协议（用户数据报协议）\n\n在IP数据报的基础上增加了复用、分用和差错检测功能。\n\n## 特点\n\n1. UDP是无连接的，减少开销和发送数据之前的时延\n2. UDP使用最大努力交付，不保证可靠传输\n3. UDP面向报文的，适合一次传输少量的数据的网路应用\n4. UDP无拥塞控制，适合很多实时应用\n5. UDP首部较小，只有8字节，而TCP由20字节\n\n*****\n\n## 首部格式\n\n![截屏 2020-08-11 下午3.46.50.png](https://i.loli.net/2020/08/11/bK9dC8JDFWrNAhY.png)\n\n- UDP长度：UDP用户数据的整个长度\n- UDP校验和：检测整个UDP数据报是否有错，有错就丢弃\n\n分用时，找不到对应的目的端口号，就丢弃报文，并给发送方发送ICMP“端口不可达”差错报文。\n\n*****\n\n## UDP校验\n\n![截屏 2020-08-11 下午3.51.18.png](https://i.loli.net/2020/08/11/Nj7qpYuHRXV9fyl.png)\n\n- 伪首部只有在计算校验的时候才会出现，不向下传送又不向上递交。\n\n### 发送端\n\n1. 添加伪首部\n2. 全0填充校验和字段\n3. 全0将数据部分填充为4B的整数倍\n4. 伪首部+首部+数据部分，然后二进制反码求和\n5. 求和得到的反码填入校验和字段\n6. 去掉伪首部，发送\n\n### 接收端\n\n1. 填上伪首部\n2. 伪首部 + 首部 + 数据 二进制反码求和\n3. 如果求和的结果全为1，则无差错，否则丢弃数据报，或者不丢弃数据报，在交给应用层的时候附加出错的警告。\n"},"catalogue":{"title":"UDP协议","json-path":"2020-08-11-UDP协议.json","mdate":"2022-08-30T14:19:31.453Z","tags":["计算机网路","传输层","UDP"]}}