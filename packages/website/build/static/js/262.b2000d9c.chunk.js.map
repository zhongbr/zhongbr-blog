{"version":3,"file":"static/js/262.b2000d9c.chunk.js","mappings":"mQACA,EAAwE,uBAAxE,EAAwI,kBAAxI,EAAkK,cAAlK,EAAuL,aAAvL,EAA0M,YAA1M,EAA8N,c,UC8E9N,EAzDmC,SAACA,GAChC,IAAQC,EAA8BD,EAA9BC,eAAgBC,EAAcF,EAAdE,UAElBC,GAAYC,EAAAA,EAAAA,MAEZC,GAAWC,EAAAA,EAAAA,UAAQ,WAErB,OADiBC,OAAOC,OAAON,GAAa,CAAC,GAC7BO,KAAI,SAAAC,GAAO,yBACpBA,GADoB,IAEvBC,MAAOC,IAAOF,EAAQC,OAAOE,OAAO,wBAFb,GAI9B,GAAE,CAACX,IAOJ,OACI,8BACKG,EAASI,KAAI,SAAAC,GAAO,aACjB,iBACII,UAAWC,EADf,WAII,oBAEA,iBAAKD,UAAWC,EAAhB,WACI,gBACIC,QAAS,kBAhBX,SAACN,GACL,OAAdT,QAAc,IAAdA,GAAAA,EAAiBS,GACjBP,EAAU,YAAD,OAAaO,EAAQ,cACjC,CAasCO,CAAcP,EAApB,EACTI,UAAWC,EAFf,SAIKL,EAAQQ,SAGb,gBAAKJ,UAAWC,EAAhB,mBACKL,EAAQS,YADb,aACK,EAAcV,KAAI,SAAAW,GAAG,OAClB,gBACIN,UAAWC,EADf,SAIKK,GAFIA,EAHS,OAU1B,iBAAKN,UAAWC,EAAhB,WACI,gCAAQL,EAAQC,MAAhB,QACA,0BAAOD,EAAQW,kBAzBlBX,EAAQ,aAHA,KAmChC,EC5ED,EAA4B,kBCgBtBY,EAAQ,WACV,IAAQC,GAAcC,EAAAA,EAAAA,MAAdD,UACR,GAAoCE,EAAAA,EAAAA,IAAWC,EAAAA,GAA/C,eAAOC,EAAP,KAAuBzB,EAAvB,KAYA,OAVA0B,EAAAA,EAAAA,YAAU,WACG,OAATL,QAAS,IAATA,GAAAA,EAAY,CACRL,MAAAA,EAAAA,IAEP,GAAE,CAACK,KAEJM,EAAAA,EAAAA,KAAc,uBAAC,mGACLF,IADK,2CAEZ,KAGC,gBAAKb,UAAWC,EAAhB,UACI,SAAC,EAAD,CACIb,UAAS,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAW4B,QAIrC,EAED,GAAeC,EAAAA,EAAAA,MAAKT,E,kGCjBL,SAAeI,IAA9B,4CAAe,OAAf,0BAAe,mGACEM,IAAAA,IAAsB,sBADxB,0G","sources":["webpack://react-press/./src/container/Index/modules/Catalogue/style.module.less?90d6","container/Index/modules/Catalogue/index.tsx","webpack://react-press/./src/container/Index/style.module.less?0f15","container/Index/index.tsx","service/passage/catalogue.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"catalogue-item\":\"catalogue-item_DvPvR\",\"catalogueItem\":\"catalogue-item_DvPvR\",\"meta-info\":\"meta-info_egUE6\",\"metaInfo\":\"meta-info_egUE6\",\"title\":\"title_ntkAf\",\"tags\":\"tags_hKMB5\",\"tag\":\"tag_meV58\",\"extra\":\"extra_QDsLR\"};","/*\n * @Description: passages catalogues\n * @Author: 张盼宏\n * @Date: 2022-08-28 14:38:38\n * @LastEditors: 张盼宏\n * @LastEditTime: 2022-08-28 15:06:59\n */\nimport React, {useMemo} from \"react\";\nimport moment from 'moment';\n\nimport { useNavigate } from '@/hooks';\nimport { ICatalogue, IPassage } from \"@/service/passage/catalogue\";\n\nimport styles from './style.module.less';\n\nexport interface Props {\n    /** trigger when entry passage */\n    onEnterPassage?: (passage: IPassage) => void;\n    /** catalogues */\n    catalogue?: ICatalogue;\n}\n\nconst Catalogue: React.FC<Props> = (props) => {\n    const { onEnterPassage, catalogue } = props;\n\n    const navigator = useNavigate();\n\n    const passages = useMemo(() => {\n        const passages = Object.values(catalogue || {});\n        return passages.map(passage => ({\n            ...passage,\n            mdate: moment(passage.mdate).format('YYYY-MM-DD HH:mm:ss')\n        }))\n    }, [catalogue]);\n\n    const onOpenPassage = (passage: IPassage) => {\n        onEnterPassage?.(passage);\n        navigator(`/passage/${passage['json-path']}`);\n    };\n\n    return (\n        <>\n            {passages.map(passage => (\n                <div\n                    className={styles.catalogueItem}\n                    key={passage['json-path']}\n                >\n                    <div/>\n\n                    <div className={styles.metaInfo}>\n                        <div\n                            onClick={() => onOpenPassage(passage)}\n                            className={styles.title}\n                        >\n                            {passage.title}\n                        </div>\n\n                        <div className={styles.tags}>\n                            {passage.tags?.map(tag => (\n                                <div\n                                    className={styles.tag}\n                                    key={tag}\n                                >\n                                    {tag}\n                                </div>\n                            ))}\n                        </div>\n\n                        <div className={styles.extra}>\n                            <span>[{passage.mdate}]</span>\n                            <span>{passage.summary}</span>\n                        </div>\n                    </div>\n                </div>\n            ))}\n        </>\n    );\n};\n\nexport default Catalogue;\n","// extracted by mini-css-extract-plugin\nexport default {\"catalogue\":\"catalogue_vrzmA\",\"catalogue-item\":\"catalogue-item_cEoWs\",\"catalogueItem\":\"catalogue-item_cEoWs\"};","/*\n * @Description: passages index page\n * @Author: 张盼宏\n * @Date: 2022-08-28 00:29:28\n * @LastEditors: 张盼宏\n * @LastEditTime: 2022-08-29 22:54:55\n */\nimport { useEffect, memo } from \"react\";\n\nimport { useAsyncEffect, usePageConfig, useAsyncFn } from '@/hooks';\nimport { title } from '@/config/meta';\nimport getPassagesCatalogue from \"@/service/passage/catalogue\";\n\nimport { Catalogue } from './modules';\n\nimport styles from './style.module.less';\n\nconst Index = () => {\n    const { setStates } = usePageConfig();\n    const [fetchCatalogue, catalogue] = useAsyncFn(getPassagesCatalogue);\n\n    useEffect(() => {\n        setStates?.({\n            title\n        });\n    }, [setStates]);\n\n    useAsyncEffect(async () => {\n        await fetchCatalogue();\n    }, []);\n\n    return (\n        <div className={styles.catalogue}>\n            <Catalogue\n                catalogue={catalogue?.data}\n            />\n        </div>\n    );\n}\n\nexport default memo(Index);\n","/*\n * @Description: catalogue\n * @Author: 张盼宏\n * @Date: 2022-08-28 12:52:39\n * @LastEditors: 张盼宏\n * @LastEditTime: 2022-08-28 13:06:44\n */\nimport axios from 'axios';\n\nexport interface IPassage {\n    title: string;\n    tags: string[];\n    author: string;\n    summary: string;\n    mdate: string;\n    'header-img': string;\n    'json-path': string;\n}\n\nexport interface ICatalogue {\n    [filename: string]: IPassage;\n}\n\nexport default async function getPassagesCatalogue() {\n    return await axios.get<ICatalogue>('/md/catalogue.json');\n}\n"],"names":["props","onEnterPassage","catalogue","navigator","useNavigate","passages","useMemo","Object","values","map","passage","mdate","moment","format","className","styles","onClick","onOpenPassage","title","tags","tag","summary","Index","setStates","usePageConfig","useAsyncFn","getPassagesCatalogue","fetchCatalogue","useEffect","useAsyncEffect","data","memo","axios"],"sourceRoot":""}