---
title: '系统调用'
tags: ['操作系统']
---
# 系统调用

操作系统是计算机硬件和用户之间的接口，需要向上提供一些简易的服务。主要包括命令接口和程序接口。程序接口由一组**系统调用**组成。

系统调用：操作系统提供给应用程序（编程人员）使用的接口，可以理解为共应用程序调用的特殊函数，应用程序可以发出系统调用请求来获得操作系统的服务。

采用系统调用可以让操作系统更加方便地管理系统资源，保证操作系统的稳定性和安全性，防止用户非法操作。

## 按功能分类的系统调用

凡是与资源有关的操作，会直接影响到其他进程的操作，一定需要操作系统的介入，即需要通过系统调用来实现。

- 设备管理
- 文件管理
- 进程控制
- 进程通信
- 内存管理

## 系统调用和库函数的区别

有些涉及特权指令操作的库函数是对操作系统提供的系统调用的封装，隐藏系统调用的一些不必要的细节。普通的库函数不需要使用系统调用，在用户态下就可以完成。

## 系统调用的过程

传递系统调用参数 -> 执行陷入指令（用户态） -> 执行系统调用相应服务程序（核心态）-> 返回用户程序

1. 发出系统调用的陷入指令是在用户态下执行的，执行陷入指令之后立即引发一个内中断，从而CPU进入核心态
2. 发出系统调用请求时在用户态，而对系统调用的相应处理在核心态下进行
3. 陷入指令时唯一一个只能在用户态下执行而不能在核心态下执行的指令
