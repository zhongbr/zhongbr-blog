---
tags: ['数据结构','图','邻接矩阵']
---
# 图的存储结构

图的结构比较复杂，任意两个结点之间都可能存在联系，无法用数据元素在存储区的物理位置来表示其元素之间的关系。所以图没有顺序映像的存储结构，只有采用多重链表的链式映像结构。

## 数组表示法

用两个数组分别存储数据元素（顶点）的信息和数据元素之间的关系（边或弧）的信息。

### 邻接矩阵

以二维数组表示有n个顶点的图时，需要存放n个顶点的信息和 $n^{2}$ 条边的信息的存储量。对于无向图，由于邻接矩阵关于对角线对称，可以压缩为只存储对角线上三角（或下三角）区域的元素。

![PNG??.png](https://i.loli.net/2020/07/31/LoB6ucMYPXvfejg.png)

通过邻接矩阵可以很方便地知道顶点之间是否有边（或弧）相连，并且很容易球的各个顶点的度。

对于无向图，顶点$v_{i}$的度是邻接矩阵中第i行（第i列）的元素之和，即：

$TD(v_{i})=\sum_{j=0}^{n-1}A[i][j]$

对于有向图，第i行的元素之和为顶点$v_{i}$的出度$OD(v_{i})$，第j列元素之和为顶点$v_{j}$的入度$ID(v_{j})$。

网络的邻接矩阵可以定义为

- 当<$v_{i},v_{j}$> 或 $(v_{i}, v_{j})$ $\in VR$：
  
  $A[i][j]=w_{i,j}$
- 反之：
  
  $A[i][j]=\infty$

## 邻接表(Adjacency List)

图的一种链式存储结构，对图中的每一个顶点建立一个单链表。

每个单链表由三个域组成。分别是指示顶点$v_{i}$邻接的点在途中的位置的邻接点域，指示下一条边或弧的节点的链域和存储数据、边或弧权值等信息的数据域。

## 十字链表

将有向图的邻接表和逆邻接表组合起来得到的一种链表，对于有向图的每一条弧，每个顶点都有一个结点与之对应，两种结点的结构如下图所示：

![PNG??.png](https://i.loli.net/2020/07/31/OBpy3TzQkHNiVve.png)

### 弧结点有五个域

- 尾域(tailvex):指向弧头
- 头域(headvex):指向弧尾
- 链域(hlink):指向弧头相同的下一条弧
- 链域(tlink):指向弧尾相同的下一条弧
- 数据域(info):存储于弧相关的信息

弧头相同的弧在同一个链表上，弧尾相同的弧也在同一个链表上，头结点即为顶点结点。

### 顶点结点也有五个域

- 数据域(data):存储与顶点相关的信息
- 链域(firstin、firstout):分别指向以该顶点为弧头或弧尾的第一个弧结点

若将有向图的邻接矩阵视为稀疏矩阵的话，十字链表可以看作是邻接矩阵的链表式存储结构

在十字链表中既容易找到以某个顶点为弧头的弧，也容易找到以某个顶点为弧尾的弧，所以采用十字链表存储图，容易求得顶点的度

## 邻接多重表(Adjacency Multilist)

无向图的另一种链式存储结构，每一条边用一个结点表示，有如下的6个域：

![PNG??.png](https://i.loli.net/2020/07/31/14VrKmQ8GNExTDY.png)

从左到右依次为：

- 标志域：标记该边是否被搜索过
- ivex和jvex：该边依附的两个顶点在图中的位置
- ilink：指向下一条依附于ivex的边
- jlink：指向下一条依附于jvex的边
- info：指向和边有关的各种信息的指针域

每一个顶点用一个结点表示，有如下的2个域：

![PNG??.png](https://i.loli.net/2020/07/31/rhziJF1dEVNpAym.png)

从左到右依次是：

- data域：存储与该顶点有关的信息
- firstedge：指示第一条依附于该顶点的边
