{"ast":{"type":"Document","children":[{"type":"Yaml","value":"title: '处理机调度'\ntags: ['操作系统','进程']","loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":3}},"range":[0,42],"raw":"---\ntitle: '处理机调度'\ntags: ['操作系统','进程']\n---"},{"type":"Header","depth":1,"children":[{"type":"Str","value":"处理机调度","loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":7}},"range":[45,50],"raw":"处理机调度"}],"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":7}},"range":[43,50],"raw":"# 处理机调度"},{"type":"Paragraph","children":[{"type":"Str","value":"由于资源有限，无法将用户提供的全部作业都放入到内存中，所以需要确定某一种规则来将作业调入内存。","loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"range":[52,99],"raw":"由于资源有限，无法将用户提供的全部作业都放入到内存中，所以需要确定某一种规则来将作业调入内存。"}],"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"range":[52,99],"raw":"由于资源有限，无法将用户提供的全部作业都放入到内存中，所以需要确定某一种规则来将作业调入内存。"},{"type":"Table","align":[null,null,null,null,null],"children":[{"type":"TableRow","children":[{"type":"TableCell","children":[],"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":2}},"range":[101,103],"raw":"||"},{"type":"TableCell","children":[{"type":"Str","value":"任务","loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":4}},"range":[103,105],"raw":"任务"}],"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":5}},"range":[103,106],"raw":"任务|"},{"type":"TableCell","children":[{"type":"Str","value":"时机","loc":{"start":{"line":9,"column":5},"end":{"line":9,"column":7}},"range":[106,108],"raw":"时机"}],"loc":{"start":{"line":9,"column":5},"end":{"line":9,"column":8}},"range":[106,109],"raw":"时机|"},{"type":"TableCell","children":[{"type":"Str","value":"发生频率","loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":12}},"range":[109,113],"raw":"发生频率"}],"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":13}},"range":[109,114],"raw":"发生频率|"},{"type":"TableCell","children":[{"type":"Str","value":"对进程状态的影响","loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":21}},"range":[114,122],"raw":"对进程状态的影响"}],"loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":22}},"range":[114,123],"raw":"对进程状态的影响|"}],"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":22}},"range":[101,123],"raw":"||任务|时机|发生频率|对进程状态的影响|"},{"type":"TableRow","children":[{"type":"TableCell","children":[{"type":"Str","value":"高级调度（作业调度）","loc":{"start":{"line":11,"column":1},"end":{"line":11,"column":11}},"range":[137,147],"raw":"高级调度（作业调度）"}],"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":12}},"range":[136,148],"raw":"|高级调度（作业调度）|"},{"type":"TableCell","children":[{"type":"Str","value":"从后备队列选择合适的作业调入内存","loc":{"start":{"line":11,"column":12},"end":{"line":11,"column":28}},"range":[148,164],"raw":"从后备队列选择合适的作业调入内存"}],"loc":{"start":{"line":11,"column":12},"end":{"line":11,"column":29}},"range":[148,165],"raw":"从后备队列选择合适的作业调入内存|"},{"type":"TableCell","children":[{"type":"Str","value":"外存 -> 内存（面向作业）","loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":43}},"range":[165,179],"raw":"外存 -> 内存（面向作业）"}],"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":44}},"range":[165,180],"raw":"外存 -> 内存（面向作业）|"},{"type":"TableCell","children":[{"type":"Str","value":"最低","loc":{"start":{"line":11,"column":44},"end":{"line":11,"column":46}},"range":[180,182],"raw":"最低"}],"loc":{"start":{"line":11,"column":44},"end":{"line":11,"column":47}},"range":[180,183],"raw":"最低|"},{"type":"TableCell","children":[{"type":"Str","value":"无 -> 创建态 -> 就绪态","loc":{"start":{"line":11,"column":47},"end":{"line":11,"column":62}},"range":[183,198],"raw":"无 -> 创建态 -> 就绪态"}],"loc":{"start":{"line":11,"column":47},"end":{"line":11,"column":63}},"range":[183,199],"raw":"无 -> 创建态 -> 就绪态|"}],"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":63}},"range":[136,199],"raw":"|高级调度（作业调度）|从后备队列选择合适的作业调入内存|外存 -> 内存（面向作业）|最低|无 -> 创建态 -> 就绪态|"},{"type":"TableRow","children":[{"type":"TableCell","children":[{"type":"Str","value":"中级调度（内存调度）","loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":11}},"range":[201,211],"raw":"中级调度（内存调度）"}],"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":12}},"range":[200,212],"raw":"|中级调度（内存调度）|"},{"type":"TableCell","children":[{"type":"Str","value":"从挂起队列选择合适的进程调回内存","loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":28}},"range":[212,228],"raw":"从挂起队列选择合适的进程调回内存"}],"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":29}},"range":[212,229],"raw":"从挂起队列选择合适的进程调回内存|"},{"type":"TableCell","children":[{"type":"Str","value":"外存 -> 内存（面向进程）","loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":43}},"range":[229,243],"raw":"外存 -> 内存（面向进程）"}],"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":44}},"range":[229,244],"raw":"外存 -> 内存（面向进程）|"},{"type":"TableCell","children":[{"type":"Str","value":"中等","loc":{"start":{"line":12,"column":44},"end":{"line":12,"column":46}},"range":[244,246],"raw":"中等"}],"loc":{"start":{"line":12,"column":44},"end":{"line":12,"column":47}},"range":[244,247],"raw":"中等|"},{"type":"TableCell","children":[{"type":"Str","value":"挂起态 -> 就绪态（阻塞挂起 -> 阻塞）","loc":{"start":{"line":12,"column":47},"end":{"line":12,"column":69}},"range":[247,269],"raw":"挂起态 -> 就绪态（阻塞挂起 -> 阻塞）"}],"loc":{"start":{"line":12,"column":47},"end":{"line":12,"column":70}},"range":[247,270],"raw":"挂起态 -> 就绪态（阻塞挂起 -> 阻塞）|"}],"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":70}},"range":[200,270],"raw":"|中级调度（内存调度）|从挂起队列选择合适的进程调回内存|外存 -> 内存（面向进程）|中等|挂起态 -> 就绪态（阻塞挂起 -> 阻塞）|"},{"type":"TableRow","children":[{"type":"TableCell","children":[{"type":"Str","value":"低级调度（进程调度）","loc":{"start":{"line":13,"column":1},"end":{"line":13,"column":11}},"range":[272,282],"raw":"低级调度（进程调度）"}],"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":12}},"range":[271,283],"raw":"|低级调度（进程调度）|"},{"type":"TableCell","children":[{"type":"Str","value":"从就绪队列选择合适的进程分配处理机资源","loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":31}},"range":[283,302],"raw":"从就绪队列选择合适的进程分配处理机资源"}],"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":32}},"range":[283,303],"raw":"从就绪队列选择合适的进程分配处理机资源|"},{"type":"TableCell","children":[{"type":"Str","value":"内存 -> CPU","loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":41}},"range":[303,312],"raw":"内存 -> CPU"}],"loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":43}},"range":[303,314],"raw":"内存 -> CPU |"},{"type":"TableCell","children":[{"type":"Str","value":"最高","loc":{"start":{"line":13,"column":43},"end":{"line":13,"column":45}},"range":[314,316],"raw":"最高"}],"loc":{"start":{"line":13,"column":43},"end":{"line":13,"column":46}},"range":[314,317],"raw":"最高|"},{"type":"TableCell","children":[{"type":"Str","value":"就绪态 -> 运行态","loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":56}},"range":[317,327],"raw":"就绪态 -> 运行态"}],"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":57}},"range":[317,328],"raw":"就绪态 -> 运行态|"}],"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":57}},"range":[271,328],"raw":"|低级调度（进程调度）|从就绪队列选择合适的进程分配处理机资源|内存 -> CPU |最高|就绪态 -> 运行态|"}],"loc":{"start":{"line":9,"column":0},"end":{"line":13,"column":57}},"range":[101,328],"raw":"||任务|时机|发生频率|对进程状态的影响|\n|-|-|-|-|-|\n|高级调度（作业调度）|从后备队列选择合适的作业调入内存|外存 -> 内存（面向作业）|最低|无 -> 创建态 -> 就绪态|\n|中级调度（内存调度）|从挂起队列选择合适的进程调回内存|外存 -> 内存（面向进程）|中等|挂起态 -> 就绪态（阻塞挂起 -> 阻塞）|\n|低级调度（进程调度）|从就绪队列选择合适的进程分配处理机资源|内存 -> CPU |最高|就绪态 -> 运行态|"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"高级调度（作业调度）","loc":{"start":{"line":15,"column":3},"end":{"line":15,"column":13}},"range":[333,343],"raw":"高级调度（作业调度）"}],"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":13}},"range":[330,343],"raw":"## 高级调度（作业调度）"},{"type":"Paragraph","children":[{"type":"Str","value":"按照一定的规则，从外存上处于后备队列的作业中挑选一个或者多个作业，给它们分配内存等必要资源，建立相应的进程，使它们获得竞争处理机的权利。","loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":68}},"range":[345,413],"raw":"按照一定的规则，从外存上处于后备队列的作业中挑选一个或者多个作业，给它们分配内存等必要资源，建立相应的进程，使它们获得竞争处理机的权利。"}],"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":68}},"range":[345,413],"raw":"按照一定的规则，从外存上处于后备队列的作业中挑选一个或者多个作业，给它们分配内存等必要资源，建立相应的进程，使它们获得竞争处理机的权利。"},{"type":"Paragraph","children":[{"type":"Str","value":"是内存与外存之间的调度，一个作业只调度依次，作业调入的时候会创建相应的PCB，作业调出时才撤销。","loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":48}},"range":[415,463],"raw":"是内存与外存之间的调度，一个作业只调度依次，作业调入的时候会创建相应的PCB，作业调出时才撤销。"},{"type":"Strong","children":[{"type":"Str","value":"高级调度主要是指调入","loc":{"start":{"line":19,"column":50},"end":{"line":19,"column":60}},"range":[465,475],"raw":"高级调度主要是指调入"}],"loc":{"start":{"line":19,"column":48},"end":{"line":19,"column":62}},"range":[463,477],"raw":"**高级调度主要是指调入**"},{"type":"Str","value":"的问题，因为只有调入的时机需要操作系统确认。调出时必然是作业运行结束了。","loc":{"start":{"line":19,"column":62},"end":{"line":19,"column":98}},"range":[477,513],"raw":"的问题，因为只有调入的时机需要操作系统确认。调出时必然是作业运行结束了。"}],"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":98}},"range":[415,513],"raw":"是内存与外存之间的调度，一个作业只调度依次，作业调入的时候会创建相应的PCB，作业调出时才撤销。**高级调度主要是指调入**的问题，因为只有调入的时机需要操作系统确认。调出时必然是作业运行结束了。"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"中级调度（内存调度）","loc":{"start":{"line":21,"column":3},"end":{"line":21,"column":13}},"range":[518,528],"raw":"中级调度（内存调度）"}],"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":13}},"range":[515,528],"raw":"## 中级调度（内存调度）"},{"type":"Paragraph","children":[{"type":"Str","value":"引入了虚拟存储技术之后，可以将暂时不用的进程调至外存等待，等它重新具备了运行条件且内存空闲的时候，再重新调入内存。可以提高内存的利用率和系统的吞吐量。","loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":75}},"range":[530,605],"raw":"引入了虚拟存储技术之后，可以将暂时不用的进程调至外存等待，等它重新具备了运行条件且内存空闲的时候，再重新调入内存。可以提高内存的利用率和系统的吞吐量。"}],"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":75}},"range":[530,605],"raw":"引入了虚拟存储技术之后，可以将暂时不用的进程调至外存等待，等它重新具备了运行条件且内存空闲的时候，再重新调入内存。可以提高内存的利用率和系统的吞吐量。"},{"type":"Paragraph","children":[{"type":"Str","value":"当一个进程被调到外存等待时，这个进程会进入挂起的状态，","loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}},"range":[607,634],"raw":"当一个进程被调到外存等待时，这个进程会进入挂起的状态，"},{"type":"Strong","children":[{"type":"Str","value":"PCB不会被调到外存","loc":{"start":{"line":25,"column":29},"end":{"line":25,"column":39}},"range":[636,646],"raw":"PCB不会被调到外存"}],"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":41}},"range":[634,648],"raw":"**PCB不会被调到外存**"},{"type":"Str","value":"，而是常驻内存中，PCB中会记录进程数据在外存中存放的位置、进程状态等信息。操作系统根据内存中的PCB来爆出对各个进程的监控、管理。","loc":{"start":{"line":25,"column":41},"end":{"line":25,"column":107}},"range":[648,714],"raw":"，而是常驻内存中，PCB中会记录进程数据在外存中存放的位置、进程状态等信息。操作系统根据内存中的PCB来爆出对各个进程的监控、管理。"}],"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":107}},"range":[607,714],"raw":"当一个进程被调到外存等待时，这个进程会进入挂起的状态，**PCB不会被调到外存**，而是常驻内存中，PCB中会记录进程数据在外存中存放的位置、进程状态等信息。操作系统根据内存中的PCB来爆出对各个进程的监控、管理。"},{"type":"Paragraph","children":[{"type":"Str","value":"被挂起的PCB会放到","loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":10}},"range":[716,726],"raw":"被挂起的PCB会放到"},{"type":"Strong","children":[{"type":"Str","value":"挂起队列","loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":16}},"range":[728,732],"raw":"挂起队列"}],"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":18}},"range":[726,734],"raw":"**挂起队列**"},{"type":"Str","value":"中。","loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":20}},"range":[734,736],"raw":"中。"}],"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":20}},"range":[716,736],"raw":"被挂起的PCB会放到**挂起队列**中。"},{"type":"Paragraph","children":[{"type":"Str","value":"中级调度（内存调度）：决定那个","loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":15}},"range":[738,753],"raw":"中级调度（内存调度）：决定那个"},{"type":"Strong","children":[{"type":"Str","value":"处于挂起状态","loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":23}},"range":[755,761],"raw":"处于挂起状态"}],"loc":{"start":{"line":29,"column":15},"end":{"line":29,"column":25}},"range":[753,763],"raw":"**处于挂起状态**"},{"type":"Str","value":"的进程重新进入内存。可能会被中级调度多次。","loc":{"start":{"line":29,"column":25},"end":{"line":29,"column":46}},"range":[763,784],"raw":"的进程重新进入内存。可能会被中级调度多次。"}],"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":46}},"range":[738,784],"raw":"中级调度（内存调度）：决定那个**处于挂起状态**的进程重新进入内存。可能会被中级调度多次。"},{"type":"Header","depth":2,"children":[{"type":"Str","value":"低级调度（进程调度）","loc":{"start":{"line":31,"column":3},"end":{"line":31,"column":13}},"range":[789,799],"raw":"低级调度（进程调度）"}],"loc":{"start":{"line":31,"column":0},"end":{"line":31,"column":13}},"range":[786,799],"raw":"## 低级调度（进程调度）"},{"type":"Paragraph","children":[{"type":"Str","value":"低级调度（进程调度）：按照某种算法，从就绪队列中选取一个进程，将处理机分配给它。","loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":40}},"range":[801,841],"raw":"低级调度（进程调度）：按照某种算法，从就绪队列中选取一个进程，将处理机分配给它。"}],"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":40}},"range":[801,841],"raw":"低级调度（进程调度）：按照某种算法，从就绪队列中选取一个进程，将处理机分配给它。"},{"type":"Paragraph","children":[{"type":"Str","value":"进程调度时操作系统中最基本的一种调度，在一般的操作系统中都必须配置进程调度。","loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":38}},"range":[843,881],"raw":"进程调度时操作系统中最基本的一种调度，在一般的操作系统中都必须配置进程调度。"}],"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":38}},"range":[843,881],"raw":"进程调度时操作系统中最基本的一种调度，在一般的操作系统中都必须配置进程调度。"},{"type":"Paragraph","children":[{"type":"Str","value":"进程调度的频率很高，一般几十毫秒就会调度一次。","loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":23}},"range":[883,906],"raw":"进程调度的频率很高，一般几十毫秒就会调度一次。"}],"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":23}},"range":[883,906],"raw":"进程调度的频率很高，一般几十毫秒就会调度一次。"},{"type":"Header","depth":3,"children":[{"type":"Str","value":"可以进程调度的时机","loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":13}},"range":[912,921],"raw":"可以进程调度的时机"}],"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":13}},"range":[908,921],"raw":"### 可以进程调度的时机"},{"type":"Paragraph","children":[{"type":"Str","value":"当前正在运行的进程发生以下的两种情况时可以对进程进行调度：","loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":29}},"range":[923,952],"raw":"当前正在运行的进程发生以下的两种情况时可以对进程进行调度："}],"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":29}},"range":[923,952],"raw":"当前正在运行的进程发生以下的两种情况时可以对进程进行调度："},{"type":"Header","depth":4,"children":[{"type":"Str","value":"主动放弃处理机","loc":{"start":{"line":43,"column":5},"end":{"line":43,"column":12}},"range":[959,966],"raw":"主动放弃处理机"}],"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":12}},"range":[954,966],"raw":"#### 主动放弃处理机"},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"进程正常终止","loc":{"start":{"line":45,"column":3},"end":{"line":45,"column":9}},"range":[971,977],"raw":"进程正常终止"}],"loc":{"start":{"line":45,"column":3},"end":{"line":45,"column":9}},"range":[971,977],"raw":"进程正常终止"}],"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":9}},"range":[968,977],"raw":"1. 进程正常终止"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"运行过程中发生异常终止","loc":{"start":{"line":46,"column":3},"end":{"line":46,"column":14}},"range":[981,992],"raw":"运行过程中发生异常终止"}],"loc":{"start":{"line":46,"column":3},"end":{"line":46,"column":14}},"range":[981,992],"raw":"运行过程中发生异常终止"}],"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":14}},"range":[978,992],"raw":"2. 运行过程中发生异常终止"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"进程主动请求阻塞","loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":11}},"range":[996,1004],"raw":"进程主动请求阻塞"}],"loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":11}},"range":[996,1004],"raw":"进程主动请求阻塞"}],"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":11}},"range":[993,1004],"raw":"3. 进程主动请求阻塞"}],"loc":{"start":{"line":45,"column":0},"end":{"line":47,"column":11}},"range":[968,1004],"raw":"1. 进程正常终止\n2. 运行过程中发生异常终止\n3. 进程主动请求阻塞"},{"type":"Header","depth":4,"children":[{"type":"Str","value":"被动放弃处理机","loc":{"start":{"line":49,"column":5},"end":{"line":49,"column":12}},"range":[1011,1018],"raw":"被动放弃处理机"}],"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":12}},"range":[1006,1018],"raw":"#### 被动放弃处理机"},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"分给进程的时间片用完","loc":{"start":{"line":51,"column":3},"end":{"line":51,"column":13}},"range":[1023,1033],"raw":"分给进程的时间片用完"}],"loc":{"start":{"line":51,"column":3},"end":{"line":51,"column":13}},"range":[1023,1033],"raw":"分给进程的时间片用完"}],"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":13}},"range":[1020,1033],"raw":"1. 分给进程的时间片用完"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"有更紧急的事需要处理（如I/O中断）","loc":{"start":{"line":52,"column":3},"end":{"line":52,"column":21}},"range":[1037,1055],"raw":"有更紧急的事需要处理（如I/O中断）"}],"loc":{"start":{"line":52,"column":3},"end":{"line":52,"column":21}},"range":[1037,1055],"raw":"有更紧急的事需要处理（如I/O中断）"}],"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":21}},"range":[1034,1055],"raw":"2. 有更紧急的事需要处理（如I/O中断）"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"有优先级更高的进程进入了就绪队列","loc":{"start":{"line":53,"column":3},"end":{"line":53,"column":19}},"range":[1059,1075],"raw":"有优先级更高的进程进入了就绪队列"}],"loc":{"start":{"line":53,"column":3},"end":{"line":53,"column":19}},"range":[1059,1075],"raw":"有优先级更高的进程进入了就绪队列"}],"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":19}},"range":[1056,1075],"raw":"3. 有优先级更高的进程进入了就绪队列"}],"loc":{"start":{"line":51,"column":0},"end":{"line":53,"column":19}},"range":[1020,1075],"raw":"1. 分给进程的时间片用完\n2. 有更紧急的事需要处理（如I/O中断）\n3. 有优先级更高的进程进入了就绪队列"},{"type":"Paragraph","children":[{"type":"Str","value":"不能进行进程调度与切换的情况：","loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":15}},"range":[1077,1092],"raw":"不能进行进程调度与切换的情况："}],"loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":15}},"range":[1077,1092],"raw":"不能进行进程调度与切换的情况："},{"type":"List","ordered":true,"start":1,"spread":false,"children":[{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换","loc":{"start":{"line":57,"column":3},"end":{"line":57,"column":49}},"range":[1097,1143],"raw":"在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换"}],"loc":{"start":{"line":57,"column":3},"end":{"line":57,"column":49}},"range":[1097,1143],"raw":"在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换"}],"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":49}},"range":[1094,1143],"raw":"1. 在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"进程在操作系统内核程序临界区中","loc":{"start":{"line":58,"column":3},"end":{"line":58,"column":18}},"range":[1147,1162],"raw":"进程在操作系统内核程序临界区中"}],"loc":{"start":{"line":58,"column":3},"end":{"line":58,"column":18}},"range":[1147,1162],"raw":"进程在操作系统内核程序临界区中"}],"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":18}},"range":[1144,1162],"raw":"2. 进程在操作系统内核程序临界区中"},{"type":"ListItem","spread":false,"checked":null,"children":[{"type":"Paragraph","children":[{"type":"Str","value":"在原子操作的过程中。原子操作不能中断，要一气呵成","loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":27}},"range":[1166,1190],"raw":"在原子操作的过程中。原子操作不能中断，要一气呵成"}],"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":27}},"range":[1166,1190],"raw":"在原子操作的过程中。原子操作不能中断，要一气呵成"}],"loc":{"start":{"line":59,"column":0},"end":{"line":59,"column":27}},"range":[1163,1190],"raw":"3. 在原子操作的过程中。原子操作不能中断，要一气呵成"}],"loc":{"start":{"line":57,"column":0},"end":{"line":59,"column":27}},"range":[1094,1190],"raw":"1. 在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换\n2. 进程在操作系统内核程序临界区中\n3. 在原子操作的过程中。原子操作不能中断，要一气呵成"},{"type":"BlockQuote","children":[{"type":"Paragraph","children":[{"type":"Str","value":"临界资源：一段时间内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。\n内核程序临界区一般是用来访问某种内核数据结构地，比如进程地就绪队列。内核临界区访问地临界资源如果不尽快释放，可能会影响到操作系统地其他管理工作，因此在内核程序临界区期间不能进行调度和切换。\n普通临界区访问临界资源不会直接影响操作系统内核地管理操作，因此访问普通临界区时可以进行调度和切换。","loc":{"start":{"line":61,"column":2},"end":{"line":63,"column":51}},"range":[1194,1381],"raw":"临界资源：一段时间内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。\n> 内核程序临界区一般是用来访问某种内核数据结构地，比如进程地就绪队列。内核临界区访问地临界资源如果不尽快释放，可能会影响到操作系统地其他管理工作，因此在内核程序临界区期间不能进行调度和切换。\n> 普通临界区访问临界资源不会直接影响操作系统内核地管理操作，因此访问普通临界区时可以进行调度和切换。"}],"loc":{"start":{"line":61,"column":2},"end":{"line":63,"column":51}},"range":[1194,1381],"raw":"临界资源：一段时间内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。\n> 内核程序临界区一般是用来访问某种内核数据结构地，比如进程地就绪队列。内核临界区访问地临界资源如果不尽快释放，可能会影响到操作系统地其他管理工作，因此在内核程序临界区期间不能进行调度和切换。\n> 普通临界区访问临界资源不会直接影响操作系统内核地管理操作，因此访问普通临界区时可以进行调度和切换。"}],"loc":{"start":{"line":61,"column":0},"end":{"line":63,"column":51}},"range":[1192,1381],"raw":"> 临界资源：一段时间内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。\n> 内核程序临界区一般是用来访问某种内核数据结构地，比如进程地就绪队列。内核临界区访问地临界资源如果不尽快释放，可能会影响到操作系统地其他管理工作，因此在内核程序临界区期间不能进行调度和切换。\n> 普通临界区访问临界资源不会直接影响操作系统内核地管理操作，因此访问普通临界区时可以进行调度和切换。"},{"type":"Header","depth":3,"children":[{"type":"Str","value":"进程地调度方式","loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":11}},"range":[1387,1394],"raw":"进程地调度方式"}],"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":11}},"range":[1383,1394],"raw":"### 进程地调度方式"}],"loc":{"start":{"line":1,"column":0},"end":{"line":68,"column":0}},"range":[0,1397],"raw":"---\ntitle: '处理机调度'\ntags: ['操作系统','进程']\n---\n# 处理机调度\n\n由于资源有限，无法将用户提供的全部作业都放入到内存中，所以需要确定某一种规则来将作业调入内存。\n\n||任务|时机|发生频率|对进程状态的影响|\n|-|-|-|-|-|\n|高级调度（作业调度）|从后备队列选择合适的作业调入内存|外存 -> 内存（面向作业）|最低|无 -> 创建态 -> 就绪态|\n|中级调度（内存调度）|从挂起队列选择合适的进程调回内存|外存 -> 内存（面向进程）|中等|挂起态 -> 就绪态（阻塞挂起 -> 阻塞）|\n|低级调度（进程调度）|从就绪队列选择合适的进程分配处理机资源|内存 -> CPU |最高|就绪态 -> 运行态|\n\n## 高级调度（作业调度）\n\n按照一定的规则，从外存上处于后备队列的作业中挑选一个或者多个作业，给它们分配内存等必要资源，建立相应的进程，使它们获得竞争处理机的权利。\n\n是内存与外存之间的调度，一个作业只调度依次，作业调入的时候会创建相应的PCB，作业调出时才撤销。**高级调度主要是指调入**的问题，因为只有调入的时机需要操作系统确认。调出时必然是作业运行结束了。\n\n## 中级调度（内存调度）\n\n引入了虚拟存储技术之后，可以将暂时不用的进程调至外存等待，等它重新具备了运行条件且内存空闲的时候，再重新调入内存。可以提高内存的利用率和系统的吞吐量。\n\n当一个进程被调到外存等待时，这个进程会进入挂起的状态，**PCB不会被调到外存**，而是常驻内存中，PCB中会记录进程数据在外存中存放的位置、进程状态等信息。操作系统根据内存中的PCB来爆出对各个进程的监控、管理。\n\n被挂起的PCB会放到**挂起队列**中。\n\n中级调度（内存调度）：决定那个**处于挂起状态**的进程重新进入内存。可能会被中级调度多次。\n\n## 低级调度（进程调度）\n\n低级调度（进程调度）：按照某种算法，从就绪队列中选取一个进程，将处理机分配给它。\n\n进程调度时操作系统中最基本的一种调度，在一般的操作系统中都必须配置进程调度。\n\n进程调度的频率很高，一般几十毫秒就会调度一次。\n\n### 可以进程调度的时机\n\n当前正在运行的进程发生以下的两种情况时可以对进程进行调度：\n\n#### 主动放弃处理机\n\n1. 进程正常终止\n2. 运行过程中发生异常终止\n3. 进程主动请求阻塞\n\n#### 被动放弃处理机\n\n1. 分给进程的时间片用完\n2. 有更紧急的事需要处理（如I/O中断）\n3. 有优先级更高的进程进入了就绪队列\n\n不能进行进程调度与切换的情况：\n\n1. 在处理中断的过程中。中断处理的过程复杂，与硬件密切相关，很难做到处理中断的过程中进行进程切换\n2. 进程在操作系统内核程序临界区中\n3. 在原子操作的过程中。原子操作不能中断，要一气呵成\n\n> 临界资源：一段时间内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。\n> 内核程序临界区一般是用来访问某种内核数据结构地，比如进程地就绪队列。内核临界区访问地临界资源如果不尽快释放，可能会影响到操作系统地其他管理工作，因此在内核程序临界区期间不能进行调度和切换。\n> 普通临界区访问临界资源不会直接影响操作系统内核地管理操作，因此访问普通临界区时可以进行调度和切换。\n\n### 进程地调度方式\n\n\n"},"catalogue":{"title":"处理机调度","json-path":"2020-08-12-处理机调度.json","mdate":"2022-08-30T14:19:31.453Z","tags":["操作系统","进程"]}}